@model HomePageViewModel
@{
    var lang = ViewBag.lang;
    int SliderIndex = 0;
}
<!-- ======= Intro Section ======= -->
<section id="intro">
    <div class="intro-container">
        <div id="introCarousel" class="carousel  slide carousel-fade" data-ride="carousel">

            <ol class="carousel-indicators"></ol>

            <div class="carousel-inner" role="listbox">
                @foreach (var item in Model.Sliders)
                {
                    <div class="carousel-item @(SliderIndex==0?"active":"") " style="background-image: url(@item.MainImageUrl)">
                        <div class="carousel-container">
                            <div class="container">
                                <h2 class="animate__animated animate__fadeInDown">@(lang=="en"? item.TitleEn: item.Title)</h2>
                                <p class="animate__animated animate__fadeInUp">@(lang=="en"? Html.Raw(item.BodyEn.Truncate(100)): Html.Raw(item.Body.Truncate(100)))</p>
                                <a asp-action="Index" asp-controller="Posts" asp-route-Id="@item.Id" class="btn-get-started scrollto animate__animated animate__fadeInUp">@Resource.ReadMore</a>
                            </div>
                        </div>
                    </div>
                    SliderIndex = SliderIndex + 1;
                }
            </div>

            <a class="carousel-control-prev" href="#introCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon ion-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>

            <a class="carousel-control-next" href="#introCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon ion-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>

        </div>
    </div>
</section><!-- End Intro Section -->
<div class="uk-position-relative uk-visible-toggle uk-light main-slider" tabindex="-1" uk-slideshow="min-height: 300; max-height: 600; ratio: 7:3; animation: push;autoplay:auto;autoplay-interval: 6000">

    <ul class="uk-slideshow-items">
        @foreach (var item in Model.Sliders)
        {
            <li>
                <div class="mask"></div>
                <img src="@item.MainImageUrl" alt="" uk-cover>
                <div class="uk-position-center uk-position-small uk-text-center main-slider-body">
                    <h1 uk-slideshow-parallax="x: 100,-100">
                        @(lang=="en"? item.TitleEn: item.Title)
                    </h1>
                    @await Html.PartialAsync("_UpdatePostButton", item.Id)

                    <p uk-slideshow-pa.allax="x: 200,-200">
                        @(lang=="en"? Html.Raw(item.BodyEn.Truncate(100)): Html.Raw(item.Body.Truncate(100)))
                    </p>
                </div>
            </li>
        }
    </ul>

    <a class="uk-position-center-@(lang=="en"?"left":"right") uk-position-small uk-hidden-hover" href="#" uk-slidenav-previous uk-slideshow-item="previous"></a>
    <a class="uk-position-center-@(lang=="en"?"right":"left") uk-position-small uk-hidden-hover" href="#" uk-slidenav-next uk-slideshow-item="next"></a>

</div>
<div class="pt-2">
    <main role="main" class="pb-3">
        <section id="homepage-content" class="container px-4 my-5">
            <div class="row" data-aos="fade-up">
                <div class="col-md-8">
                    <h2>@(lang=="en"? Html.Raw(Model.HomePageContent.TitleEn): Html.Raw(Model.HomePageContent.Title))</h2>
                    <div class="text-secondary">
                        @(lang=="en"? Html.Raw(Model.HomePageContent.BodyEn): Html.Raw(Model.HomePageContent.Body))
                    </div>
                    @await Html.PartialAsync("_UpdatePostButton", Model.HomePageContent.Id)

                </div>
                <div class="col-md-4">
                    <img class="img-fluid" src=" @Model.HomePageContent.IconUrl" />
                </div>
            </div>
        </section>
        <section id="homepage-contact-us" style="background:url('@Model.HomePageContactContent.MainImageUrl');background-attachment:fixed;background-repeat:no-repeat;background-size:cover">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h1 class="text-white" data-aos="fade-@(lang=="en"?"right":"left")">@(lang=="en"?Model.HomePageContactContent.TitleEn:Model.HomePageContactContent.Title)</h1>
                        <div>
                            @if (lang == "en")
                            {
                                @Html.Raw(Model.HomePageContactContent.BodyEn);
                            }
                            else
                            {
                                @Html.Raw(Model.HomePageContactContent.Body);
                            }
                        </div>
                    </div>
                </div>

            </div>
        </section>
        <section id="homepage-WhatWeDo" class="px-4 my-5">
            <div class="container">
                <h2 class="text-center">@(lang=="en"? Model.Products?.FirstOrDefault()?.PostType?.NameEn : Model.Products?.FirstOrDefault()?.PostType?.Name)</h2>
                <div class="row">
                    @{
                        int index = 0;
                        foreach (var item in Model.Products)
                        {

                            <div class="col-md-3 p-1" data-aos="@(index%2==0?"fade-up":"fade-down")">
                                <a asp-action="Index" asp-controller="Posts" asp-route-Id="@item.Id">
                                    <div style="background:url('@item.IconUrl');background-repeat:no-repeat;background-repeat:no-repeat;background-position:center;background-size:cover;min-height:250px;"></div>
                                </a>

                                <h4 class="text-center my-0 py-3 color-primary">@(lang=="en"?item.TitleEn:item.Title)</h4>
                            </div>
                            index = index + 1;
                        }
                    }

                </div>
            </div>

        </section>
        <section id="homepage-projects" class="px-4 my-5">
            <div class="container">
                <h2 class="text-center">@(lang=="en"? Model.Services?.FirstOrDefault()?.PostType?.NameEn : Model.Services?.FirstOrDefault()?.PostType?.Name)</h2>
                <div class="row">

                    <div uk-slider="center: false;autoplay:true;autoplay-interval:5000">

                        <div class="uk-position-relative uk-visible-toggle uk-light" tabindex="-1">

                            <ul class="uk-slider-items uk-child-width-1-1 uk-child-width-1-3@s uk-child-width-1-3@m uk-grid">
                                @foreach (var item in Model.Services)
                                {
                                    var title = lang == "en" ? item.TitleEn : item.Title;
                                    <li>
                                        <div class="uk-card uk-card-default">
                                            <div class="uk-card-media-top">
                                                <div style="background:url('@item.MainImageUrl');background-repeat:no-repeat;background-repeat:no-repeat;background-position:center;background-size:cover;min-height:200px;"></div>
                                            </div>
                                            <div class="uk-card-body p-3">
                                                <h5 class="uk-card-title text-first my-0">
                                                    <a class="text-decoration-none" asp-action="Index" asp-controller="Posts" asp-route-title="@title.ToUrlSlug()" asp-route-Id="@item.Id">@title</a>
                                                </h5>
                                                <hr class="colored-hr my-3" />
                                                <a class="btn btn-info btn-lg btn-flat" asp-action="Index" asp-controller="Posts" asp-route-title="@title.ToUrlSlug()" asp-route-Id="@item.Id"><span class="small">@Resource.ReadMore</span><span class="px-3"><i class="fa fa-angle-@(lang=="en"?"right":"left")"></i></span></a>
                                                @await Html.PartialAsync("_UpdatePostButton", item.Id)

                                            </div>
                                        </div>
                                    </li>
                                }


                            </ul>

                            <a class="uk-position-center-@(lang=="en"?"left":"right") uk-position-small bg-first m-0"
                               href="#" uk-slidenav-previous uk-slider-item="previous"></a>
                            <a class="uk-position-center-@(lang=="en"?"right":"left") uk-position-small bg-first m-0" href="#" uk-slidenav-next uk-slider-item="next"></a>


                        </div>

                        <ul class="uk-slider-nav uk-dotnav uk-flex-center uk-margin"></ul>

                    </div>
                </div>
            </div>

        </section>
    </main>
</div>
<div id="homepage-map">
    @if (!string.IsNullOrWhiteSpace(Model.MapUrl))
    {
        @Html.Raw(Model.MapUrl)
    }
</div>